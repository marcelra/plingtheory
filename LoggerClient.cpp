#include "LoggerClient.h"

#include "Logger.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// constructor
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
LoggerClient::LoggerClient( const std::string& name ) :
   m_logger( new Logger( name ) ),
   m_loggerClientId( ++s_loggerClientId )
{
   m_logger->setThreshold( Msg::Always );
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// destructor
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
LoggerClient::~LoggerClient()
{}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// setLoggerThreshold
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void LoggerClient::setLoggerThreshold( Msg::LogLevel threshold )
{
   m_logger->setThreshold( threshold );
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// setLoggerThreshold
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void LoggerClient::setLoggerThreshold( Msg::LogLevel logLevel, LoggerClientId id )
{
   if ( m_loggerClientId == id )
   {
      m_logger->setThreshold( logLevel );
   }
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// getLoggerClientId
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
LoggerClientId LoggerClient::getLoggerClientId() const
{
   return m_loggerClientId;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// static members
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
LoggerClientId LoggerClient::s_loggerClientId = 0;
