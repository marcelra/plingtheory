#include "IObjectiveFunction.h"

namespace Math
{

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// Destructor
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
IObjectiveFunction::~IObjectiveFunction()
{}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// calculateGradient
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
RealVector IObjectiveFunction::calculateGradient( const RealVector& x, double delta ) const
{
   RealVector result( x.size() );

   double objValAtX = evaluate( x );
   RealVector xPrime( x );

   for ( size_t i = 0; i < x.size(); ++i )
   {
      xPrime[i] += delta;
      result[i] = ( evaluate( xPrime ) - objValAtX ) / delta;
      xPrime[i] -= delta;
   }

   return result;
}

} /// namespace Math
